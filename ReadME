# CloudGuard – Cloud Security Threat Detection and Alert Infrasturcture

**CloudGuard** is a cloud security architecture using Terraform to design, monitor cloud environments, detect threats, and send real-time alerts to a team via Slack. 


## Solution Overview
CloudGuard provides a fully automated workflow to detect and alert team on cloud security threats in when it happens.  

**Workflow:**
1. Fpr this project, EC2 instances simulate threats using Bash scripts.
2. **GuardDuty** detects threats and sends findings to **Security Hub**.
3. **EventBridge** imports findings and triggers a **Lambda** function.
4. Lambda checks **DynamoDB** for existing finding IDs.
   - If ID does not exist → send alert to Slack and save ID with TTL.
   - If ID exists → do not send alert (prevents duplicates).
5. **Batch optimization:** Lambda groups findings by **instance ID** to reduce alert noise.
6. Alerts are delivered to Slack in a concise, actionable format.


## Architecture
The architecture is designed to leverage AWS managed services for scalable and automated threat detection and notification.  

**Diagram:**  


## AWS Services Used
CloudTrail: To provide an audit trail and source for threat detection           
GuardDuty:  To detects malicious activity in the cloud enviroment automatically                           
Security Hub: Aggregates findings from multiple services 
EventBridge: Triggers Lambda function automatically when new findings are imported  
Lambda:  Processes findings and sends alerts to Slack            
DynamoDB: To Store finding IDs with TTL(Time To Live) and prevent duplicate alerts on slack
EC2 + Bash: To simulates threats in the cloud environment providing scenarios to test monitorig security setup    |

## Technologies Used
- **Infrastructure as Code:** Terraform
- **Scripting:** Bash
- **Serverless Functions:** AWS Lambda
- **Database:** DynamoDB
- **Monitoring & Security:** GuardDuty, CloudTrail, Security Hub
- **Messaging / Notification:** Slack
- **Cloud Provider:** AWS